<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self' https://www.googletagmanager.com https://static.cloudflareinsights.com 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com data:; img-src 'self' https://assets.codepen.io data:; font-src 'self' https://fonts.gstatic.com; connect-src 'self' https://www.google-analytics.com https://cloudflareinsights.com https://static.cloudflareinsights.com; object-src 'none'; frame-src 'self'; base-uri 'self';" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Loader</title>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            block-size: 100vh;
            margin: 0;
        }

        span {
            font-size: 15vmin;
            font-family: system-ui;
            opacity: 0;
        }

        .reset-btn {
            position: fixed;
            bottom: 3cqi;
            right: 3cqi;
            background: transparent;
            color: #33333a;
            border: none;
            cursor: pointer;
            font-family: sans-serif;
            font-weight: bold;
            opacity: 0.5;
            transition: opacity 0.2s;

            span {
                opacity: 1;
            }

            &:hover {
                opacity: 1;
            }
        }
    </style>
</head>

<body>
    <div class="container"></div>
    <button class="reset-btn" data-analytics-element="Reset Animation" onclick="resetAnimation()">
        <span class="material-symbols-outlined">
            refresh
        </span>
    </button>
    <script>
        const colors = ['blue', 'red', 'orange', 'blue', 'green', 'red'];

        function split(text) {
            const container = document.querySelector('.container');
            const delay = 1000 / colors.length;

            for (let i = 0; i < text.length; i++) {
                let char = document.createElement('span');
                char.style.color = colors[i % colors.length];
                char.textContent = text[i];
                container.appendChild(char);

                const animation = char.animate(
                    [
                        { opacity: 0, transform: 'translateX(1.25rem)' },
                        { opacity: 1, transform: 'translateX(0)' }
                    ],
                    {
                        duration: 600,
                        easing: 'ease-in-out',
                        delay: i * delay
                    }
                );

                animation.onfinish = () => {
                    char.style.opacity = 1;
                    char.style.transform = 'translateY(0)';
                };
            }
        }

        function resetAnimation() {
            const container = document.querySelector('.container');
            container.innerHTML = '';
            split('Google');
        }

        split('Google');
    </script>
</body>

</html>