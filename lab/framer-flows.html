<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self' https://www.googletagmanager.com https://static.cloudflareinsights.com 'unsafe-inline'; style-src 'self' 'unsafe-inline' data:; img-src 'self' https://assets.codepen.io data:; font-src 'self'; connect-src 'self' https://www.google-analytics.com https://cloudflareinsights.com https://static.cloudflareinsights.com; object-src 'none'; frame-src 'self'; base-uri 'self';" />
    <meta name="referrer" content="strict-origin-when-cross-origin" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Framer Flows</title>
    <style>
        *,
        *:before,
        *:after {
            box-sizing: border-box;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: #000;
            margin: 0;
            font-size: 4vmin;
        }

        .box {
            --delay: 250ms;
            --dur: 1300ms;
            --timing: cubic-bezier(.25, 1, 0, 1);
            height: 5em;
            width: 5em;
            background: #1359FF;
            position: relative;
            transition: all 190ms, opacity 110ms;
            opacity: 0;
            transform: scale(0) rotate(-45deg);
            animation: rotateIn var(--dur) var(--delay) 2 alternate forwards var(--timing);
        }

        .box-m {
            position: absolute;
            bottom: 0;
            left: 0;
            animation: enterScene var(--dur) var(--delay) 2 alternate forwards var(--timing);

            --delay: 555.5ms;
            --dur: 982ms;
            height: 3.33em;
            width: 3.33em;
            background: #00AAFF;
            transition: transform 175ms;
            transform-origin: 0 3.33em;
            transform: scale(0);
        }

        .box-s {
            position: absolute;
            bottom: 0;
            left: 0;
            animation: enterScene var(--dur) var(--delay) 2 alternate forwards var(--timing);

            --delay: 756.5ms;
            --dur: 749.71ms;
            height: 1.65em;
            width: 1.65em;
            background: #fff;
            transition: transform 140ms;
            transform-origin: 0 1.65em;
            transform: scale(0);
        }

        @keyframes enterScene {
            0% {
                transform: scale(0);
            }

            76%,
            100% {
                transform: scale(1);
            }
        }

        @keyframes rotateIn {
            0% {
                transform: scale(0) rotate(0);
                opacity: 0;
            }

            95%,
            100% {
                transform: scale(1) rotate(45deg);
                opacity: 1;
            }
        }

        .reset-btn {
            position: fixed;
            bottom: 4cqi;
            right: 4cqi;
            background: transparent;
            color: #fff;
            border: none;
            cursor: pointer;
            font-family: sans-serif;
            font-weight: bold;
            opacity: 0.5;
            transition: opacity 0.2s;

            &:hover {
                opacity: 1;
            }
        }
    </style>
</head>

<body>
    <div class="box">
        <div class="box-m"></div>
        <div class="box-s"></div>
    </div>
    <button class="reset-btn" data-analytics-element="Reset Animation" onclick="resetAnimation()">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor">
            <path
                d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" />
        </svg>
    </button>
    <script>
        function resetAnimation() {
            const elements = document.querySelectorAll('.box, .box-m, .box-s');
            elements.forEach(el => {
                el.style.animation = 'none';
                el.offsetHeight; /* trigger reflow */
                el.style.animation = null;
            });
        }
    </script>
</body>

</html>